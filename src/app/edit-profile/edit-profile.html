<div class="edit-profile-container">
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <a routerLink="/">
        <img src="/SFLU_ambassador_logo.svg" alt="Logo" class="logo-image" draggable="false"/>
      </a>
    </div>
    <div class="header-actions">
      <app-button routerLink="/profile">
        –ù–∞–∑–∞–¥ –¥–æ –ø—Ä–æ—Ñ—ñ–ª—é
      </app-button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-wrapper">
      <!-- Page Title -->
      <section class="page-header">
        <h1 class="page-title">–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é</h1>
        <p class="page-subtitle">–û–Ω–æ–≤—ñ—Ç—å —Å–≤–æ—é –æ—Å–æ–±–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é</p>
      </section>

      <!-- Success Message -->
      <div class="alert alert-success" *ngIf="showSuccessMessage">
        <span class="alert-icon">‚úì</span>
        <span class="alert-text">–ü—Ä–æ—Ñ—ñ–ª—å —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!</span>
      </div>

      <!-- Error Message -->
      <div class="alert alert-error" *ngIf="showErrorMessage">
        <span class="alert-icon">‚ö†</span>
        <span class="alert-text">{{ errorMessage }}</span>
      </div>

      <!-- Edit Form -->
      <div class="edit-form">
        <!-- Avatar Section -->
        <section class="form-section avatar-section">
          <h2 class="section-title">–ê–≤–∞—Ç–∞—Ä</h2>
          <div class="avatar-editor">
            <div class="avatar-preview">
              <div class="user-avatar-large">{{ getAvatarInitial() }}</div>
            </div>
            <div class="avatar-actions">
              <label class="upload-btn">
                <input type="file" accept="image/*" (change)="uploadAvatar($event)" hidden/>
                <span>üì∑ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–æ—Ç–æ</span>
              </label>
              <button class="remove-btn" (click)="removeAvatar()">
                üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏
              </button>
            </div>
          </div>
        </section>

        <!-- Personal Information -->
        <section class="form-section">
          <h2 class="section-title">–û—Å–æ–±–∏—Å—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–Ü–º'—è *</label>
              <app-text-field
                [(value)]="userName"
                placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ *</label>
              <app-text-field
                [(value)]="userEmail"
                type="email"
                placeholder="email@example.com"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
              <app-text-field
                [(value)]="userPhone"
                placeholder="+380 XX XXX XX XX"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">–ú—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è</label>
              <app-text-field
                [(value)]="userLocation"
                placeholder="–ú—ñ—Å—Ç–æ, –ö—Ä–∞—ó–Ω–∞"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>
          </div>

          <div class="form-group full-width">
            <label class="form-label">–ü—Ä–æ —Å–µ–±–µ</label>
            <textarea
              class="form-textarea"
              [(ngModel)]="userBio"
              (ngModelChange)="onFormChange()"
              placeholder="–†–æ–∑–∫–∞–∂—ñ—Ç—å —Ç—Ä–æ—Ö–∏ –ø—Ä–æ —Å–µ–±–µ..."
              rows="4"></textarea>
          </div>
        </section>

        <!-- Social Links -->
        <section class="form-section">
          <h2 class="section-title">–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ</h2>
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">üìò Facebook</label>
              <app-text-field
                [(value)]="facebookUrl"
                placeholder="https://facebook.com/username"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">üì∑ Instagram</label>
              <app-text-field
                [(value)]="instagramUrl"
                placeholder="https://instagram.com/username"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">üê¶ Twitter</label>
              <app-text-field
                [(value)]="twitterUrl"
                placeholder="https://twitter.com/username"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">üíº LinkedIn</label>
              <app-text-field
                [(value)]="linkedinUrl"
                placeholder="https://linkedin.com/in/username"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>
          </div>
        </section>

        <!-- Password Change -->
        <section class="form-section">
          <h2 class="section-title">–ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>
          <p class="section-description">–ó–∞–ª–∏—à—Ç–µ –ø–æ–ª—è –ø–æ—Ä–æ–∂–Ω—ñ–º–∏, —è–∫—â–æ –Ω–µ —Ö–æ—á–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—å</p>
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–ü–æ—Ç–æ—á–Ω–∏–π –ø–∞—Ä–æ–ª—å</label>
              <app-text-field
                [(value)]="currentPassword"
                type="password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group">
              <label class="form-label">–ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å</label>
              <app-text-field
                [(value)]="newPassword"
                type="password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>

            <div class="form-group full-width">
              <label class="form-label">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è</label>
              <app-text-field
                [(value)]="confirmPassword"
                type="password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                (valueChange)="onFormChange()">
              </app-text-field>
            </div>
          </div>
        </section>

        <!-- Form Actions -->
        <section class="form-actions">
          <app-button (click)="cancelEdit()">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </app-button>
          <app-button (click)="saveProfile()" [class.disabled]="isSaving || !isFormDirty">
            <span *ngIf="!isSaving">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏</span>
            <span *ngIf="isSaving">‚è≥ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...</span>
          </app-button>
        </section>
      </div>
    </div>
  </main>

  <!-- Animated Stars Background -->
  <div class="stars-container">
    <div class="star" *ngFor="let star of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]"
         [style.left.%]="(star * 137.5) % 100"
         [style.top.%]="(star * 222.5) % 70"
         [style.animation-delay.s]="(star * 1234) % 10"
         [style.animation-duration.s]="15 + (star * 5678) % 10">
      <div class="star-glow"></div>
      <div class="star-core"
           [style.background-color]="['#FFD700', '#FFFFFF', '#FF6B6B', '#4A89FF', '#FFD700'][star % 5]">
      </div>
    </div>
  </div>
</div>

